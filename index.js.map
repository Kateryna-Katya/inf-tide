{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // --------------------------------------------------------\n  // 1. Инициализация иконок\n  // --------------------------------------------------------\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  }\n\n  // --------------------------------------------------------\n  // 2. Инициализация Lenis (Smooth Scroll)\n  // --------------------------------------------------------\n  if (typeof Lenis !== 'undefined') {\n      const lenis = new Lenis({\n          duration: 1.2,\n          easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n          orientation: 'vertical',\n          smoothWheel: true,\n      });\n\n      function raf(time) {\n          lenis.raf(time);\n          requestAnimationFrame(raf);\n      }\n      requestAnimationFrame(raf);\n  }\n\n  // --------------------------------------------------------\n  // 3. GSAP + ScrollTrigger\n  // --------------------------------------------------------\n  if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') {\n      gsap.registerPlugin(ScrollTrigger);\n\n      // --- HERO SECTION ---\n      const heroTl = gsap.timeline();\n      heroTl.from('.hero__title', { y: 50, opacity: 0, duration: 1, ease: 'power3.out' })\n            .from('.hero__desc', { y: 30, opacity: 0, duration: 0.8 }, '-=0.6')\n            .from('.hero__btns', { y: 20, opacity: 0, duration: 0.8 }, '-=0.6')\n            .from('.hero__image-wrapper', { scale: 0.9, opacity: 0, duration: 1 }, '-=0.8');\n\n      // Параллакс картинки в Hero\n      gsap.to('.hero__img', {\n          yPercent: 20,\n          ease: 'none',\n          scrollTrigger: {\n              trigger: '.hero',\n              start: 'top top',\n              end: 'bottom top',\n              scrub: true\n          }\n      });\n\n      // ========================================================\n      // ПЕРЕПИСАННАЯ ЛОГИКА АНИМАЦИЙ ЧЕРЕЗ FOR EACH\n      // ========================================================\n\n      // --- 1. ABOUT SECTION (forEach) ---\n      const aboutCards = document.querySelectorAll('.about__card');\n      const aboutContainer = document.querySelector('.about__grid');\n\n      if (aboutCards.length > 0) {\n          aboutCards.forEach((card, index) => {\n              gsap.from(card, {\n                  scrollTrigger: {\n                      trigger: aboutContainer, // Триггер срабатывает, когда появляется сетка\n                      start: 'top 80%',\n                  },\n                  y: 50,       // Сдвиг снизу вверх\n                  opacity: 0,  // Появление из прозрачности\n                  duration: 0.8,\n                  delay: index * 0.2, // ВРУЧНУЮ задаем задержку для каждой карточки (0s, 0.2s, 0.4s)\n                  ease: 'power2.out',\n                  clearProps: 'all' // Очищаем стили после анимации, чтобы избежать багов\n              });\n          });\n      }\n\n      // --- 2. BENEFITS SECTION (forEach) ---\n      const benefitItems = document.querySelectorAll('.benefit-item');\n      const benefitList = document.querySelector('.benefits__list');\n\n      if (benefitItems.length > 0) {\n          benefitItems.forEach((item, index) => {\n              gsap.from(item, {\n                  scrollTrigger: {\n                      trigger: benefitList,\n                      start: 'top 85%',\n                  },\n                  x: -30,      // Сдвиг слева направо\n                  opacity: 0,\n                  duration: 0.6,\n                  delay: index * 0.15, // Ручная задержка\n                  ease: 'power2.out',\n                  clearProps: 'all'\n              });\n          });\n      }\n\n      // --- 3. BLOG SECTION (forEach) ---\n      const blogCards = document.querySelectorAll('.blog-card');\n      const blogGrid = document.querySelector('.blog__grid');\n\n      if (blogCards.length > 0) {\n          blogCards.forEach((card, index) => {\n              gsap.from(card, {\n                  scrollTrigger: {\n                      trigger: blogGrid,\n                      start: 'top 80%',\n                  },\n                  y: 30,\n                  opacity: 0,\n                  duration: 0.8,\n                  delay: index * 0.2, // Ручная задержка\n                  ease: 'power2.out',\n                  clearProps: 'all'\n              });\n          });\n      }\n\n      // --- 4. INNOVATION (Счетчики) ---\n      const statNumbers = document.querySelectorAll('.stat-num');\n      statNumbers.forEach(stat => {\n          const targetValue = +stat.getAttribute('data-val');\n          let proxy = { value: 0 };\n\n          gsap.to(proxy, {\n              value: targetValue,\n              duration: 2,\n              scrollTrigger: {\n                  trigger: '.innovation',\n                  start: 'top 80%',\n              },\n              onUpdate: function() {\n                  stat.innerText = Math.ceil(proxy.value);\n              },\n              ease: 'power1.inOut'\n          });\n      });\n\n  } else {\n      console.error('GSAP library not loaded.');\n  }\n\n  // --------------------------------------------------------\n  // 4. Мобильное Меню\n  // --------------------------------------------------------\n  const burger = document.querySelector('.header__burger');\n  const mobileMenu = document.querySelector('.mobile-menu');\n  const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n  let isMenuOpen = false;\n\n  if (burger && mobileMenu) {\n      burger.addEventListener('click', toggleMenu);\n      mobileLinks.forEach(link => link.addEventListener('click', toggleMenu));\n  }\n\n  function toggleMenu() {\n      isMenuOpen = !isMenuOpen;\n      if (isMenuOpen) {\n          mobileMenu.classList.add('is-open');\n          document.body.style.overflow = 'hidden';\n          gsap.to(mobileLinks, { y: 0, opacity: 1, duration: 0.5, stagger: 0.1, delay: 0.2 });\n      } else {\n          mobileMenu.classList.remove('is-open');\n          document.body.style.overflow = '';\n          gsap.to(mobileLinks, { y: 20, opacity: 0, duration: 0.3 });\n      }\n  }\n\n  // --------------------------------------------------------\n  // 5. Форма\n  // --------------------------------------------------------\n  const form = document.getElementById('consultation-form');\n  const captchaLabel = document.getElementById('captcha-label');\n  const captchaInput = document.getElementById('captcha');\n\n  let num1 = Math.floor(Math.random() * 10);\n  let num2 = Math.floor(Math.random() * 10);\n  if(captchaLabel) captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n\n  if (form) {\n      form.addEventListener('submit', function(e) {\n          e.preventDefault();\n          let isValid = true;\n          document.querySelectorAll('.form-group').forEach(el => el.classList.remove('error'));\n\n          const name = document.getElementById('name');\n          if (!name.value.trim()) { setError(name); isValid = false; }\n\n          const email = document.getElementById('email');\n          if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email.value)) { setError(email); isValid = false; }\n\n          const phone = document.getElementById('phone');\n          if (!/^[0-9+ ]{6,}$/.test(phone.value)) { setError(phone); isValid = false; }\n\n          if (parseInt(captchaInput.value) !== (num1 + num2)) { setError(captchaInput); isValid = false; }\n\n          const policy = document.getElementById('policy');\n          if (!policy.checked) { alert('Подтвердите согласие.'); isValid = false; }\n\n          if (isValid) {\n              const btn = form.querySelector('button');\n              const btnText = btn.textContent;\n              btn.textContent = 'Отправка...';\n              btn.disabled = true;\n\n              setTimeout(() => {\n                  form.reset();\n                  btn.style.display = 'none';\n                  const successMsg = document.querySelector('.form-success');\n                  if(successMsg) successMsg.style.display = 'block';\n                  num1 = Math.floor(Math.random() * 10);\n                  num2 = Math.floor(Math.random() * 10);\n                  if(captchaLabel) captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n                  setTimeout(() => { btn.disabled = false; btn.textContent = btnText; }, 5000);\n              }, 1500);\n          }\n      });\n  }\n\n  function setError(input) {\n      if(input && input.parentElement) input.parentElement.classList.add('error');\n  }\n});"],"names":["raf","time","lenis","t","aboutCards","aboutContainer","card","index","benefitItems","benefitList","item","blogCards","blogGrid","stat","targetValue","proxy","burger","mobileMenu","mobileLinks","isMenuOpen","toggleMenu","link","form","captchaLabel","captchaInput","num1","num2","e","isValid","el","name","setError","email","phone","btn","btnText","successMsg","input"],"mappings":"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"}