{"version":3,"file":"main-DdbmT84q.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // ========================================================\n  // 1. ИНИЦИАЛИЗАЦИЯ БИБЛИОТЕК\n  // ========================================================\n\n  // Иконки Lucide\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  }\n\n  // Плавный скролл (Lenis)\n  if (typeof Lenis !== 'undefined') {\n      const lenis = new Lenis({\n          duration: 1.2,\n          easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n          orientation: 'vertical',\n          smoothWheel: true,\n      });\n\n      function raf(time) {\n          lenis.raf(time);\n          requestAnimationFrame(raf);\n      }\n      requestAnimationFrame(raf);\n  } else {\n      console.warn('Lenis не загружен.');\n  }\n\n  // GSAP + ScrollTrigger\n  if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') {\n      gsap.registerPlugin(ScrollTrigger);\n  } else {\n      console.error('GSAP не загружен.');\n      return;\n  }\n\n  // ========================================================\n  // 2. COOKIE POPUP\n  // ========================================================\n  const cookiePopup = document.getElementById('cookie-popup');\n  const acceptBtn = document.getElementById('accept-cookies');\n  const storageKey = 'inf-tide-cookies-accepted';\n\n  if (cookiePopup && acceptBtn) {\n      // Проверяем, было ли согласие ранее\n      if (!localStorage.getItem(storageKey)) {\n          // Если нет, показываем попап через 2 секунды\n          setTimeout(() => {\n              cookiePopup.classList.add('show');\n          }, 2000);\n      }\n\n      // Клик по кнопке \"Accetta\"\n      acceptBtn.addEventListener('click', () => {\n          localStorage.setItem(storageKey, 'true'); // Сохраняем выбор\n          cookiePopup.classList.remove('show');     // Скрываем\n      });\n  }\n\n  // ========================================================\n  // 3. МОБИЛЬНОЕ МЕНЮ\n  // ========================================================\n  const burger = document.querySelector('.header__burger');\n  const mobileMenu = document.querySelector('.mobile-menu');\n  const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n  const mobileFooter = document.querySelector('.mobile-menu__footer');\n  let isMenuOpen = false;\n\n  // Скрываем футер меню при загрузке (GSAP set)\n  if (mobileFooter) {\n      gsap.set(mobileFooter, { y: 20, opacity: 0 });\n  }\n\n  if (burger && mobileMenu) {\n      burger.addEventListener('click', toggleMenu);\n      mobileLinks.forEach(link => {\n          link.addEventListener('click', toggleMenu);\n      });\n  }\n\n  function toggleMenu() {\n      isMenuOpen = !isMenuOpen;\n\n      if (isMenuOpen) {\n          mobileMenu.classList.add('is-open');\n          document.body.style.overflow = 'hidden';\n\n          // Анимация ссылок\n          gsap.to(mobileLinks, {\n              y: 0,\n              opacity: 1,\n              duration: 0.5,\n              stagger: 0.1,\n              delay: 0.2,\n              ease: 'power2.out'\n          });\n\n          // Анимация футера меню\n          if (mobileFooter) {\n              gsap.to(mobileFooter, {\n                  y: 0,\n                  opacity: 1,\n                  duration: 0.5,\n                  delay: 0.6,\n                  ease: 'power2.out'\n              });\n          }\n\n      } else {\n          mobileMenu.classList.remove('is-open');\n          document.body.style.overflow = '';\n\n          // Скрываем ссылки\n          gsap.to(mobileLinks, { y: 20, opacity: 0, duration: 0.3 });\n\n          // Скрываем футер меню\n          if (mobileFooter) {\n              gsap.to(mobileFooter, { y: 20, opacity: 0, duration: 0.3 });\n          }\n      }\n  }\n\n  // ========================================================\n  // 4. АНИМАЦИИ СЕКЦИЙ\n  // ========================================================\n\n  // Hero\n  const heroTl = gsap.timeline();\n  heroTl.from('.hero__title', { y: 50, opacity: 0, duration: 1, ease: 'power3.out' })\n        .from('.hero__desc', { y: 30, opacity: 0, duration: 0.8 }, '-=0.6')\n        .from('.hero__btns', { y: 20, opacity: 0, duration: 0.8 }, '-=0.6')\n        .from('.hero__image-wrapper', { scale: 0.9, opacity: 0, duration: 1 }, '-=0.8');\n\n  gsap.to('.hero__img', {\n      yPercent: 20,\n      ease: 'none',\n      scrollTrigger: {\n          trigger: '.hero',\n          start: 'top top',\n          end: 'bottom top',\n          scrub: true\n      }\n  });\n\n  // About (forEach fix)\n  const aboutCards = document.querySelectorAll('.about__card');\n  const aboutContainer = document.querySelector('.about__grid');\n\n  if (aboutCards.length > 0) {\n      aboutCards.forEach((card, index) => {\n          gsap.from(card, {\n              scrollTrigger: {\n                  trigger: aboutContainer,\n                  start: 'top 80%',\n              },\n              y: 50,\n              opacity: 0,\n              duration: 0.8,\n              delay: index * 0.2,\n              ease: 'power2.out',\n              clearProps: 'all'\n          });\n      });\n  }\n\n  // Benefits (forEach fix)\n  const benefitItems = document.querySelectorAll('.benefit-item');\n  const benefitList = document.querySelector('.benefits__list');\n\n  if (benefitItems.length > 0) {\n      benefitItems.forEach((item, index) => {\n          gsap.from(item, {\n              scrollTrigger: {\n                  trigger: benefitList,\n                  start: 'top 85%',\n              },\n              x: -30,\n              opacity: 0,\n              duration: 0.6,\n              delay: index * 0.15,\n              ease: 'power2.out',\n              clearProps: 'all'\n          });\n      });\n  }\n\n  // Innovation (Numbers)\n  const statNumbers = document.querySelectorAll('.stat-num');\n  statNumbers.forEach(stat => {\n      const targetValue = +stat.getAttribute('data-val');\n      let proxy = { value: 0 };\n      gsap.to(proxy, {\n          value: targetValue,\n          duration: 2,\n          scrollTrigger: {\n              trigger: '.innovation',\n              start: 'top 80%',\n          },\n          onUpdate: function() {\n              stat.innerText = Math.ceil(proxy.value);\n          },\n          ease: 'power1.inOut'\n      });\n  });\n\n  // Blog (forEach fix)\n  const blogCards = document.querySelectorAll('.blog-card');\n  const blogGrid = document.querySelector('.blog__grid');\n\n  if (blogCards.length > 0) {\n      blogCards.forEach((card, index) => {\n          gsap.from(card, {\n              scrollTrigger: {\n                  trigger: blogGrid,\n                  start: 'top 80%',\n              },\n              y: 30,\n              opacity: 0,\n              duration: 0.8,\n              delay: index * 0.2,\n              ease: 'power2.out',\n              clearProps: 'all'\n          });\n      });\n  }\n\n  // ========================================================\n  // 5. ФОРМА\n  // ========================================================\n  const form = document.getElementById('consultation-form');\n  const captchaLabel = document.getElementById('captcha-label');\n  const captchaInput = document.getElementById('captcha');\n\n  let num1 = Math.floor(Math.random() * 10);\n  let num2 = Math.floor(Math.random() * 10);\n\n  if(captchaLabel) captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n\n  if (form) {\n      form.addEventListener('submit', function(e) {\n          e.preventDefault();\n          let isValid = true;\n          document.querySelectorAll('.form-group').forEach(el => el.classList.remove('error'));\n\n          const name = document.getElementById('name');\n          if (!name.value.trim()) { setError(name); isValid = false; }\n\n          const email = document.getElementById('email');\n          if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email.value)) { setError(email); isValid = false; }\n\n          const phone = document.getElementById('phone');\n          if (!/^[0-9+ ]{6,}$/.test(phone.value)) { setError(phone); isValid = false; }\n\n          if (parseInt(captchaInput.value) !== (num1 + num2)) { setError(captchaInput); isValid = false; }\n\n          const policy = document.getElementById('policy');\n          if (!policy.checked) { alert('Necessario consenso.'); isValid = false; }\n\n          if (isValid) {\n              const btn = form.querySelector('button');\n              const btnText = btn.textContent;\n              btn.textContent = 'Attendere...'; // \"Ждите\" на итальянском\n              btn.disabled = true;\n\n              setTimeout(() => {\n                  form.reset();\n                  btn.style.display = 'none';\n                  const successMsg = document.querySelector('.form-success');\n                  if(successMsg) successMsg.style.display = 'block';\n\n                  num1 = Math.floor(Math.random() * 10);\n                  num2 = Math.floor(Math.random() * 10);\n                  if(captchaLabel) captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n\n                  setTimeout(() => {\n                      if(successMsg) successMsg.style.display = 'none';\n                      btn.style.display = 'inline-flex';\n                      btn.disabled = false;\n                      btn.textContent = btnText;\n                  }, 5000);\n              }, 1500);\n          }\n      });\n  }\n\n  function setError(input) {\n      if(input && input.parentElement) input.parentElement.classList.add('error');\n  }\n});"],"names":["raf","time","lenis","t","cookiePopup","acceptBtn","storageKey","burger","mobileMenu","mobileLinks","mobileFooter","isMenuOpen","toggleMenu","link","aboutCards","aboutContainer","card","index","benefitItems","benefitList","item","stat","targetValue","proxy","blogCards","blogGrid","form","captchaLabel","captchaInput","num1","num2","e","isValid","el","name","setError","email","phone","btn","btnText","successMsg","input"],"mappings":"ssBAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAYlD,GALI,OAAO,OAAW,KAClB,OAAO,YAAa,EAIpB,OAAO,MAAU,IAAa,CAQ9B,IAASA,EAAT,SAAaC,EAAM,CACfC,EAAM,IAAID,CAAI,EACd,sBAAsBD,CAAG,CACnC,EAHe,IAAAA,IAPT,MAAME,EAAQ,IAAI,MAAM,CACpB,SAAU,IACV,OAASC,GAAM,KAAK,IAAI,EAAG,MAAQ,KAAK,IAAI,EAAG,IAAMA,CAAC,CAAC,EACvD,YAAa,WACb,YAAa,EACvB,CAAO,EAMD,sBAAsBH,CAAG,CAC/B,MACM,QAAQ,KAAK,oBAAoB,EAIrC,GAAI,OAAO,KAAS,KAAe,OAAO,cAAkB,IACxD,KAAK,eAAe,aAAa,MAC9B,CACH,QAAQ,MAAM,mBAAmB,EACjC,MACN,CAKE,MAAMI,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAY,SAAS,eAAe,gBAAgB,EACpDC,EAAa,4BAEfF,GAAeC,IAEV,aAAa,QAAQC,CAAU,GAEhC,WAAW,IAAM,CACbF,EAAY,UAAU,IAAI,MAAM,CACnC,EAAE,GAAI,EAIXC,EAAU,iBAAiB,QAAS,IAAM,CACtC,aAAa,QAAQC,EAAY,MAAM,EACvCF,EAAY,UAAU,OAAO,MAAM,CAC7C,CAAO,GAML,MAAMG,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,iBAAiB,oBAAoB,EAC5DC,EAAe,SAAS,cAAc,sBAAsB,EAClE,IAAIC,EAAa,GAGbD,GACA,KAAK,IAAIA,EAAc,CAAE,EAAG,GAAI,QAAS,EAAG,EAG5CH,GAAUC,IACVD,EAAO,iBAAiB,QAASK,CAAU,EAC3CH,EAAY,QAAQI,GAAQ,CACxBA,EAAK,iBAAiB,QAASD,CAAU,CACnD,CAAO,GAGL,SAASA,GAAa,CAClBD,EAAa,CAACA,EAEVA,GACAH,EAAW,UAAU,IAAI,SAAS,EAClC,SAAS,KAAK,MAAM,SAAW,SAG/B,KAAK,GAAGC,EAAa,CACjB,EAAG,EACH,QAAS,EACT,SAAU,GACV,QAAS,GACT,MAAO,GACP,KAAM,YACpB,CAAW,EAGGC,GACA,KAAK,GAAGA,EAAc,CAClB,EAAG,EACH,QAAS,EACT,SAAU,GACV,MAAO,GACP,KAAM,YACxB,CAAe,IAILF,EAAW,UAAU,OAAO,SAAS,EACrC,SAAS,KAAK,MAAM,SAAW,GAG/B,KAAK,GAAGC,EAAa,CAAE,EAAG,GAAI,QAAS,EAAG,SAAU,GAAK,EAGrDC,GACA,KAAK,GAAGA,EAAc,CAAE,EAAG,GAAI,QAAS,EAAG,SAAU,GAAK,EAGxE,CAOiB,KAAK,SAAU,EACvB,KAAK,eAAgB,CAAE,EAAG,GAAI,QAAS,EAAG,SAAU,EAAG,KAAM,YAAc,CAAA,EAC3E,KAAK,cAAe,CAAE,EAAG,GAAI,QAAS,EAAG,SAAU,EAAG,EAAI,OAAO,EACjE,KAAK,cAAe,CAAE,EAAG,GAAI,QAAS,EAAG,SAAU,EAAG,EAAI,OAAO,EACjE,KAAK,uBAAwB,CAAE,MAAO,GAAK,QAAS,EAAG,SAAU,CAAG,EAAE,OAAO,EAEpF,KAAK,GAAG,aAAc,CAClB,SAAU,GACV,KAAM,OACN,cAAe,CACX,QAAS,QACT,MAAO,UACP,IAAK,aACL,MAAO,EACjB,CACA,CAAG,EAGD,MAAMI,EAAa,SAAS,iBAAiB,cAAc,EACrDC,EAAiB,SAAS,cAAc,cAAc,EAExDD,EAAW,OAAS,GACpBA,EAAW,QAAQ,CAACE,EAAMC,IAAU,CAChC,KAAK,KAAKD,EAAM,CACZ,cAAe,CACX,QAASD,EACT,MAAO,SACV,EACD,EAAG,GACH,QAAS,EACT,SAAU,GACV,MAAOE,EAAQ,GACf,KAAM,aACN,WAAY,KAC1B,CAAW,CACX,CAAO,EAIL,MAAMC,EAAe,SAAS,iBAAiB,eAAe,EACxDC,EAAc,SAAS,cAAc,iBAAiB,EAExDD,EAAa,OAAS,GACtBA,EAAa,QAAQ,CAACE,EAAMH,IAAU,CAClC,KAAK,KAAKG,EAAM,CACZ,cAAe,CACX,QAASD,EACT,MAAO,SACV,EACD,EAAG,IACH,QAAS,EACT,SAAU,GACV,MAAOF,EAAQ,IACf,KAAM,aACN,WAAY,KAC1B,CAAW,CACX,CAAO,EAIe,SAAS,iBAAiB,WAAW,EAC7C,QAAQI,GAAQ,CACxB,MAAMC,EAAc,CAACD,EAAK,aAAa,UAAU,EACjD,IAAIE,EAAQ,CAAE,MAAO,CAAG,EACxB,KAAK,GAAGA,EAAO,CACX,MAAOD,EACP,SAAU,EACV,cAAe,CACX,QAAS,cACT,MAAO,SACV,EACD,SAAU,UAAW,CACjBD,EAAK,UAAY,KAAK,KAAKE,EAAM,KAAK,CACzC,EACD,KAAM,cAChB,CAAO,CACP,CAAG,EAGD,MAAMC,EAAY,SAAS,iBAAiB,YAAY,EAClDC,EAAW,SAAS,cAAc,aAAa,EAEjDD,EAAU,OAAS,GACnBA,EAAU,QAAQ,CAACR,EAAMC,IAAU,CAC/B,KAAK,KAAKD,EAAM,CACZ,cAAe,CACX,QAASS,EACT,MAAO,SACV,EACD,EAAG,GACH,QAAS,EACT,SAAU,GACV,MAAOR,EAAQ,GACf,KAAM,aACN,WAAY,KAC1B,CAAW,CACX,CAAO,EAML,MAAMS,EAAO,SAAS,eAAe,mBAAmB,EAClDC,EAAe,SAAS,eAAe,eAAe,EACtDC,EAAe,SAAS,eAAe,SAAS,EAEtD,IAAIC,EAAO,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EACpCC,EAAO,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAErCH,IAAcA,EAAa,YAAc,iBAAiBE,CAAI,MAAMC,CAAI,KAEvEJ,GACAA,EAAK,iBAAiB,SAAU,SAASK,EAAG,CACxCA,EAAE,eAAgB,EAClB,IAAIC,EAAU,GACd,SAAS,iBAAiB,aAAa,EAAE,QAAQC,GAAMA,EAAG,UAAU,OAAO,OAAO,CAAC,EAEnF,MAAMC,EAAO,SAAS,eAAe,MAAM,EACtCA,EAAK,MAAM,KAAM,IAAIC,EAASD,CAAI,EAAGF,EAAU,IAEpD,MAAMI,EAAQ,SAAS,eAAe,OAAO,EACxC,6BAA6B,KAAKA,EAAM,KAAK,IAAKD,EAASC,CAAK,EAAGJ,EAAU,IAElF,MAAMK,EAAQ,SAAS,eAAe,OAAO,EAQ7C,GAPK,gBAAgB,KAAKA,EAAM,KAAK,IAAKF,EAASE,CAAK,EAAGL,EAAU,IAEjE,SAASJ,EAAa,KAAK,IAAOC,EAAOC,IAASK,EAASP,CAAY,EAAGI,EAAU,IAEzE,SAAS,eAAe,QAAQ,EACnC,UAAW,MAAM,sBAAsB,EAAGA,EAAU,IAE5DA,EAAS,CACT,MAAMM,EAAMZ,EAAK,cAAc,QAAQ,EACjCa,EAAUD,EAAI,YACpBA,EAAI,YAAc,eAClBA,EAAI,SAAW,GAEf,WAAW,IAAM,CACbZ,EAAK,MAAO,EACZY,EAAI,MAAM,QAAU,OACpB,MAAME,EAAa,SAAS,cAAc,eAAe,EACtDA,IAAYA,EAAW,MAAM,QAAU,SAE1CX,EAAO,KAAK,MAAM,KAAK,OAAM,EAAK,EAAE,EACpCC,EAAO,KAAK,MAAM,KAAK,OAAM,EAAK,EAAE,EACjCH,IAAcA,EAAa,YAAc,iBAAiBE,CAAI,MAAMC,CAAI,KAE3E,WAAW,IAAM,CACVU,IAAYA,EAAW,MAAM,QAAU,QAC1CF,EAAI,MAAM,QAAU,cACpBA,EAAI,SAAW,GACfA,EAAI,YAAcC,CACrB,EAAE,GAAI,CACV,EAAE,IAAI,CACrB,CACA,CAAO,EAGL,SAASJ,EAASM,EAAO,CAClBA,GAASA,EAAM,eAAeA,EAAM,cAAc,UAAU,IAAI,OAAO,CAChF,CACA,CAAC"}